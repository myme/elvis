!function(){var a,b,c,d,e,f,g,h,i,j,k,l={}.hasOwnProperty,m=[].slice;b=this.document,d=function(a){return(null!=a?a.nodeType:void 0)&&a.nodeType===b.ELEMENT_NODE},e=function(a){return(null!=a?a.nodeType:void 0)&&a.nodeType===b.TEXT_NODE},f=function(a,b){var c,d,e;d={};for(c in a)l.call(a,c)&&(e=a[c],d[c]=e);for(c in b)l.call(b,c)&&(e=b[c],d[c]=e);return d},g=function(a){var b,c,e;return b={},c=[],e=a&&a.length,2===e?(b=a[0],c=a[1]):1===e&&("string"==typeof a[0]||d(a[0])?c=[a[0]]:a[0]instanceof Array?c=a[0]:"object"==typeof a[0]&&(b=a[0])),[b,c]},h=function(a){var b,c,d,e,f,g,h,i;for(b={},h=a.split(","),f=0,g=h.length;g>f;f++)d=h[f],i=d.split("="),c=i[0],e=i[1],b[c]=e.replace(/^"(.*)"$/,"$1");return b},i=function(a){var b,c,d,e,g,i,j,k;if(e="div",b={},c=[],a){for(k=a.match(/\([^)]+\)|[.#]?(\w|-)+/g),i=0,j=k.length;j>i;i++)switch(d=k[i],d.substr(0,1)){case"#":b.id=d.substr(1);break;case".":c.push(d.substr(1));break;case"(":g=h(d.substr(1,d.length-2)),b=f(b,g);break;default:e=d}c.length&&(b.className=c.join(" "))}return[e,b]},k=function(a){return b.createTextNode(a)},this.elvis=c=function(){var a,e,h,j,k,l,n,o,p;return n=arguments[0],a=2<=arguments.length?m.call(arguments,1):[],o=g(a),e=o[0],h=o[1],d(n)?j=n:(p=i(n),k=p[0],l=p[1],e=f(l,e),j=b.createElement(k)),h.length&&(e.html=h),c.setAttr(j,e),j},a={className:"className",id:"id",html:"innerHTML",text:"textContent"},j=[],c.appendChildren=function(a,c){var d,e,f,g,h,i,k,l;if(c.length){for(e=b.createDocumentFragment(),h=0,k=c.length;k>h;h++)if(d=c[h]){for(i=0,l=j.length;l>i;i++)f=j[i],g=f(d),g&&(d=g);e.appendChild(d)}return a.appendChild(e)}},c.css=function(a){var b,d,e,f;e=[];for(d in a)l.call(a,d)&&(f=a[d],"string"==typeof f?e.push(""+d+":"+f+";"):(b=c.css(f),e.push(""+d+"{"+b+"}")));return e.join("")},c.getAttr=function(b,c){var d;return d=a[c],d?b[d]:void 0},c.setAttr=function(){var b,e,f,g,h,i,j;if(g=arguments[0],b=2<=arguments.length?m.call(arguments,1):[],1===b.length){i=b[0],j=[];for(e in i)l.call(i,e)&&(h=i[e],j.push(c.setAttr(g,e,h)));return j}return e=b[0],h=b[1],(f=a[e])?"html"!==e||"string"==typeof h?g[f]=h:(g.innerHTML="",d(h)?g.appendChild(h):h instanceof Array?c.appendChildren(g,h):void 0):g.setAttribute(e,h)},c.registerPlugin=function(a){return j.unshift(a)},(c.resetPlugins=function(){return j=[],c.registerPlugin(function(a){return"string"==typeof a?k(a):null})})()}.call(this);