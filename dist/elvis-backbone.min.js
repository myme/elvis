(function(){var a,b,c,d,e,f,g,h={}.hasOwnProperty,i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},j=[].slice;d=this.elvis,e=function(){return function(){throw new Exception("Must be implemented in sub class")}},a=function(a){function b(a,b){this.context=a,this.attrs=b instanceof Array?b:[b]}return i(b,a),b.prototype.get=function(a){return this._getTransform=a,this},b.prototype.set=function(a){return this._setTransform=a,this},b.prototype.getElement=function(){return this._element||(this._element=d.text(),this.setAttr(this._element,"text")),this._element},b.prototype.getValue=e(),b.prototype._getValue=function(){var a,b,c;return c=function(){var b,c,d,e;for(d=this.attrs,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(this.getValue(a));return e}.call(this),b=this._getTransform,b?b.apply(null,c):c.length>1?c.join(" "):c[0]},b.prototype.setAttr=function(a,b){var c,e,f,g,h=this;for(this.toObj=a,this.toAttr=b,"INPUT"===a.tagName&&"value"===b&&d.on(a,"change",function(){return h.updateModel(a[b])}),g=this.attrs,e=0,f=g.length;f>e;e++)c=g[e],this.subscribe(c);return this.update()},b.prototype.setValue=e(),b.prototype.subscribe=e(),b.prototype.update=function(){return d.setAttr(this.toObj,this.toAttr,this._getValue())},b.prototype.updateModel=function(a){return this.attrs.length>1?this.setValue(this._setTransform(a)):this.setValue(this.attrs[0],a)},b}(d.Element),b=function(a){function b(){return f=b.__super__.constructor.apply(this,arguments)}return i(b,a),b.prototype.getValue=function(){var a,b;return a=1<=arguments.length?j.call(arguments,0):[],(b=this.context).get.apply(b,a)},b.prototype.setValue=function(){var a,b;return a=1<=arguments.length?j.call(arguments,0):[],(b=this.context).set.apply(b,a)},b.prototype.subscribe=function(a){return this.context.on("change:"+a,this.update,this)},b}(a),Backbone.Model.prototype.bindTo=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(b,[this].concat(j.call(arguments)),function(){})},c=function(a){function b(){return g=b.__super__.constructor.apply(this,arguments)}return i(b,a),b.prototype.getValue=function(){var a,b;return a=1<=arguments.length?j.call(arguments,0):[],(b=this.context.model).get.apply(b,a)},b.prototype.setValue=function(){var a,b;return a=1<=arguments.length?j.call(arguments,0):[],(b=this.context.model).set.apply(b,a)},b.prototype.subscribe=function(a){var b=this;return this.context.listenTo(this.context.model,"change:"+a,function(){return b.update()})},b}(a),Backbone.View.prototype.bindTo=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(c,[this].concat(j.call(arguments)),function(){})}}).call(this);