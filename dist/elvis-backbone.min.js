!function(){var a,b,c,d,e,f,g,h={}.hasOwnProperty,i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},j=[].slice;d=this.elvis,e=function(a){return function(){throw new Exception(""+a+" must be implemented in sub class")}},a=function(a){function b(a,b){this.context=a,this.attrs=b instanceof Array?b:[b]}return i(b,a),b.prototype.get=function(a){return this._getTransform=a,this},b.prototype.set=function(a){return this._setTransform=a,this},b.prototype.getElement=function(){return this._element||(this._element=d.text(),this.setAttr(this._element,"text")),this._element},b.prototype.getValue=e("getValue"),b.prototype._getValue=function(){var a,b,c;return c=function(){var b,c,d,e;for(d=this.attrs,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(this.getValue(a));return e}.call(this),b=this._getTransform,b?b.apply(null,c):c.length>1?c.join(" "):c[0]},b.prototype.setAttr=function(){var a,b,c,e,f,g,h=this;for(b=arguments[0],c=2<=arguments.length?j.call(arguments,1):[],this.toObj=b,this.toAttr=c,"INPUT"===b.tagName&&"value"===c[0]&&d.on(b,"change",function(){return h.updateModel(b.value)}),g=this.attrs,e=0,f=g.length;f>e;e++)a=g[e],this.subscribe(a);return this.update()},b.prototype.setValue=e("setValue"),b.prototype.subscribe=e("subscribe"),b.prototype.update=function(){var a,b,c,e,f,g;for(a=this._getValue(),g=this.toAttr.slice().reverse(),e=0,f=g.length;f>e;e++)b=g[e],c={},c[b]=a,a=c;return d.setAttr(this.toObj,a)},b.prototype.updateModel=function(a){return this.attrs.length>1?this.setValue(this._setTransform(a)):this.setValue(this.attrs[0],a)},b}(d.Element),b=function(a){function b(){return f=b.__super__.constructor.apply(this,arguments)}return i(b,a),b.prototype.getValue=function(){var a,b;return a=1<=arguments.length?j.call(arguments,0):[],(b=this.context).get.apply(b,a)},b.prototype.setValue=function(){var a,b;return a=1<=arguments.length?j.call(arguments,0):[],(b=this.context).set.apply(b,a)},b.prototype.subscribe=function(a){return this.context.on("change:"+a,this.update,this)},b}(a),Backbone.Model.prototype.bindTo=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(b,[this].concat(j.call(arguments)),function(){})},c=function(a){function b(){return g=b.__super__.constructor.apply(this,arguments)}return i(b,a),b.prototype.getValue=function(){var a,b;return a=1<=arguments.length?j.call(arguments,0):[],(b=this.context.model).get.apply(b,a)},b.prototype.setValue=function(){var a,b;return a=1<=arguments.length?j.call(arguments,0):[],(b=this.context.model).set.apply(b,a)},b.prototype.subscribe=function(a){var b=this;return this.context.listenTo(this.context.model,"change:"+a,function(){return b.update()})},b}(a),Backbone.View.prototype.bindTo=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(c,[this].concat(j.call(arguments)),function(){})}}.call(this);